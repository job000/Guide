<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Auto-Setup Script - Lokalt Prosjektoppsett</title>
  <link rel="stylesheet" href="../assets/styles.css">
  <style>
    .command-box {
      background: #1f2937;
      color: #10b981;
      padding: 1.5rem;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 1rem;
      margin: 1rem 0;
      overflow-x: auto;
    }
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }
    .feature-card {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      padding: 1.5rem;
      border-radius: 8px;
    }
    .feature-card h4 {
      color: #1e40af;
      margin-top: 0;
    }
    .time-badge {
      display: inline-block;
      background: #10b981;
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.875rem;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <nav class="nav">
    <a href="../index.html">Hjem</a>
    <a href="index.html">Hurtigstart</a>
    <a href="auto-setup.html"><strong>Auto-Setup</strong></a>
    <a href="manuell-setup.html">Manuell Setup</a>
    <a href="prosjektmaler.html">Maler</a>
  </nav>

  <div class="container">
    <h1>Automatisk Prosjektoppsett <span class="time-badge">2 min</span></h1>

    <blockquote>
      <p>Ett script oppretter et komplett Next.js prosjekt med alle komponenter,
      database-tilkobling og autentisering klart til bruk.</p>
    </blockquote>

    <!-- KRAV -->
    <h2>Før du starter</h2>
    <div class="warning-box">
      <strong>Du må ha installert:</strong>
      <ul style="margin: 0.5rem 0 0 1.5rem;">
        <li><strong>Node.js 18+</strong> - <a href="https://nodejs.org" target="_blank">Last ned her</a></li>
        <li><strong>Git</strong> - <a href="https://git-scm.com" target="_blank">Last ned her</a></li>
      </ul>
      <p style="margin-top: 1rem;">Sjekk at du har det: <code>node --version</code> og <code>git --version</code></p>
    </div>

    <!-- BRUK -->
    <h2>Slik bruker du scriptet</h2>

    <div class="step">
      <div class="step-number">1</div>
      <div class="step-content">
        <h4>Åpne Terminal</h4>
        <p><strong>Mac:</strong> Trykk <code>Cmd + Space</code>, skriv "Terminal", trykk Enter<br>
        <strong>Windows:</strong> Trykk <code>Win + R</code>, skriv "cmd", trykk Enter</p>
      </div>
    </div>

    <div class="step">
      <div class="step-number">2</div>
      <div class="step-content">
        <h4>Naviger til Guide-mappen</h4>
        <p>Gå til mappen der du lagret denne guiden:</p>
      </div>
    </div>
    <div class="command-box">cd /sti/til/Guide/scripts</div>

    <div class="step">
      <div class="step-number">3</div>
      <div class="step-content">
        <h4>Kjør setup-scriptet</h4>
        <p>Bytt ut <code>kundenavn</code> med ønsket prosjektnavn (ingen mellomrom!):</p>
      </div>
    </div>
    <div class="command-box">./setup-project.sh kundenavn</div>

    <div class="info-box">
      <strong>Windows-brukere:</strong> Du trenger Git Bash eller WSL. Alternativt følg <a href="manuell-setup.html">manuell setup</a>.
    </div>

    <div class="step">
      <div class="step-number">4</div>
      <div class="step-content">
        <h4>Vent ca 2 minutter</h4>
        <p>Scriptet laster ned Next.js, installerer pakker og oppretter alle filer.</p>
      </div>
    </div>

    <!-- HVA OPPRETTES -->
    <h2>Hva scriptet oppretter</h2>
    <div class="features-grid">
      <div class="feature-card">
        <h4>Next.js 15 med TypeScript</h4>
        <p>Ferdig konfigurert med Tailwind CSS og alle innstillinger.</p>
      </div>
      <div class="feature-card">
        <h4>Komplett mappestruktur</h4>
        <p>actions/, components/, config/, interfaces/, lib/, store/</p>
      </div>
      <div class="feature-card">
        <h4>Supabase-tilkobling</h4>
        <p>Ferdig oppsett for database. Du trenger bare legge inn nøkler.</p>
      </div>
      <div class="feature-card">
        <h4>Gjenbrukbare komponenter</h4>
        <p>Button, Input, Header, Footer - klar til bruk.</p>
      </div>
      <div class="feature-card">
        <h4>Kontaktskjema</h4>
        <p>Fungerende skjema som lagrer i database.</p>
      </div>
      <div class="feature-card">
        <h4>4 ferdige sider</h4>
        <p>Forside, Tjenester, Om oss, Kontakt.</p>
      </div>
    </div>

    <!-- FILSTRUKTUR -->
    <h2>Filstruktur etter kjøring</h2>
    <pre><code>kundenavn/
├── src/
│   ├── actions/
│   │   └── contact.ts        # Håndterer kontaktskjema
│   ├── app/
│   │   ├── layout.tsx        # Hovedlayout (Header + Footer)
│   │   ├── page.tsx          # Forsiden
│   │   ├── kontakt/page.tsx  # Kontaktside
│   │   ├── tjenester/page.tsx # Tjenester-side
│   │   └── om-oss/page.tsx   # Om oss-side
│   ├── components/
│   │   ├── layout/
│   │   │   ├── header.tsx    # Navigasjon/header
│   │   │   └── footer.tsx    # Footer
│   │   ├── ui/
│   │   │   ├── button.tsx    # Gjenbrukbar knapp
│   │   │   └── input.tsx     # Gjenbrukbart input-felt
│   │   └── functional/
│   │       └── contact-form.tsx # Kontaktskjema
│   ├── config/
│   │   └── supabase-config.ts # Database-tilkobling
│   └── interfaces/
│       └── index.ts          # TypeScript-typer
├── .env.local                # Dine hemmelige nøkler
└── package.json</code></pre>

    <!-- NESTE STEG -->
    <h2>Etter scriptet: Neste steg</h2>

    <div class="step">
      <div class="step-number">1</div>
      <div class="step-content">
        <h4>Gå inn i prosjektmappen</h4>
      </div>
    </div>
    <div class="command-box">cd kundenavn</div>

    <div class="step">
      <div class="step-number">2</div>
      <div class="step-content">
        <h4>Opprett Supabase-prosjekt</h4>
        <p>Gå til <a href="https://supabase.com" target="_blank">supabase.com</a>, logg inn, og klikk "New Project".</p>
      </div>
    </div>

    <div class="step">
      <div class="step-number">3</div>
      <div class="step-content">
        <h4>Rediger .env.local</h4>
        <p>Åpne filen <code>.env.local</code> og legg inn dine Supabase-nøkler:</p>
      </div>
    </div>
    <pre><code># Finn disse i Supabase: Settings → API
SUPABASE_PROJECT_URL=https://din-id.supabase.co
SUPABASE_API_KEY=din-anon-key-her

# Lag en tilfeldig lang tekst
JWT_SECRET=EnLangHemmeligTekstPåMinstTrettiToTegn</code></pre>

    <div class="step">
      <div class="step-number">4</div>
      <div class="step-content">
        <h4>Opprett database-tabeller</h4>
        <p>I Supabase, gå til SQL Editor og kjør denne koden:</p>
      </div>
    </div>
    <pre><code>-- Kontaktmeldinger-tabell
CREATE TABLE contact_messages (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  email VARCHAR(255) NOT NULL,
  phone VARCHAR(50),
  message TEXT NOT NULL,
  is_read BOOLEAN DEFAULT false,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Sikkerhet: Tillat innsetting fra nettside
ALTER TABLE contact_messages ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Allow public insert" ON contact_messages
  FOR INSERT WITH CHECK (true);</code></pre>

    <div class="step">
      <div class="step-number">5</div>
      <div class="step-content">
        <h4>Start utviklingsserver</h4>
      </div>
    </div>
    <div class="command-box">npm run dev</div>

    <div class="step">
      <div class="step-number">6</div>
      <div class="step-content">
        <h4>Åpne i nettleser</h4>
        <p>Gå til <a href="http://localhost:3000" target="_blank">http://localhost:3000</a></p>
      </div>
    </div>

    <div class="success-box">
      <strong>Ferdig!</strong> Du har nå et fungerende prosjekt. Neste steg er å
      <a href="tilpasning.html">tilpasse innholdet til kunden</a>.
    </div>

    <!-- PROBLEMER -->
    <h2>Vanlige problemer</h2>

    <table>
      <tr>
        <th>Problem</th>
        <th>Løsning</th>
      </tr>
      <tr>
        <td><code>permission denied</code></td>
        <td>Kjør: <code>chmod +x setup-project.sh</code></td>
      </tr>
      <tr>
        <td><code>node: command not found</code></td>
        <td>Installer Node.js fra nodejs.org</td>
      </tr>
      <tr>
        <td><code>npm ERR!</code></td>
        <td>Prøv: <code>npm cache clean --force</code></td>
      </tr>
      <tr>
        <td>Scriptet stopper</td>
        <td>Sjekk internett-tilkobling, prøv igjen</td>
      </tr>
    </table>

    <div class="footer">
      <p>
        <a href="index.html">← Hurtigstart</a> |
        <a href="manuell-setup.html">Manuell Setup →</a>
      </p>
    </div>
  </div>

  <script src="../assets/copy-code.js"></script>
</body>
</html>
